theme.MagnetButton=function(){class MagnetButton{constructor(container,magnetStrength=.15){this.container=container,this.child=this.container.children[0],this.magnetStrength=magnetStrength,this.animationFrame=null,this.currentX=0,this.currentY=0,this.targetX=0,this.targetY=0}load(){this.addEventListeners()}addEventListeners(){this.container.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.container.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}handleMouseMove(e){const pos=this.container.getBoundingClientRect(),mx=(e.clientX-pos.left)/this.container.offsetWidth-.5,my=(e.clientY-pos.top)/this.container.offsetHeight-.5;this.targetX=mx*this.magnetStrength*this.container.offsetWidth,this.targetY=my*this.magnetStrength*this.container.offsetHeight,this.animate()}handleMouseLeave(){this.targetX=0,this.targetY=0,this.animate()}animate(){this.animationFrame&&cancelAnimationFrame(this.animationFrame);const easing=.15,dx=this.targetX-this.currentX,dy=this.targetY-this.currentY;this.currentX+=dx*easing,this.currentY+=dy*easing,this.container.style.transform=`translate(${this.currentX}px, ${this.currentY}px)`,this.child.style.transform=`translate(${this.currentX*.2}px, ${this.currentY*.2}px)`,(Math.abs(dx)>.1||Math.abs(dy)>.1)&&(this.animationFrame=requestAnimationFrame(this.animate.bind(this)))}onKeyDown(e){this.container.addEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){let focusableElements;this.container.querySelector('[data-drawer="newsletter-popup"]')||this.container.dataset.drawerPanel!=null?focusableElements="a, button, input":this.container.dataset.drawer=="quick-view-drawer"?focusableElements="a, button, select, textarea":focusableElements="a, button, input, select, textarea";const firstFocusableElement=this.container.querySelector(focusableElements),focusableContent=this.container.querySelectorAll(focusableElements),logoFocus=this.container.querySelector("[data-age-declined] a"),lastFocusableElement=focusableContent[focusableContent.length-1];if(e.key==="Tab"||e.keyCode===9)if(e.shiftKey)document.activeElement===firstFocusableElement&&(lastFocusableElement.focus(),e.preventDefault());else if(this.container.querySelector("[data-age-verifier]"))document.activeElement==this.container.querySelector("[data-submit-age]")?(firstFocusableElement.focus(),e.preventDefault()):document.activeElement===lastFocusableElement&&(logoFocus?logoFocus.focus():lastFocusableElement.focus(),e.preventDefault());else if(this.container.dataset.drawer=="account-drawer"){if(e.target.closest("form")){const lastFocusableElemnts=e.target.closest("form").querySelectorAll("account-event a"),lastFocusableElemnt=lastFocusableElemnts[lastFocusableElemnts.length-1];document.activeElement===lastFocusableElemnt&&(firstFocusableElement.focus(),e.preventDefault())}}else document.activeElement===lastFocusableElement&&(firstFocusableElement.focus(),e.preventDefault())}}return MagnetButton}(),theme.OnScroll=function(){class OnScroll{constructor(container){this.container=container,this.triggered=!1}scroll(scrollElement){if(scrollElement&&scrollElement.querySelector("a")){let nextUrl=scrollElement.querySelector("a").getAttribute("href"),product_count=scrollElement.querySelector("a").getAttribute("data-product-count"),page_count=scrollElement.querySelector("a").getAttribute("data-current-page"),total_product_count=scrollElement.querySelector("a").getAttribute("data-total-product");isOnScreen(scrollElement)&&this.triggered==!1&&(this.triggered=!0,scrollElement.querySelector("a").remove(),scrollElement.querySelector("[data-infinite-scroll]")&&scrollElement.querySelector("[data-infinite-scroll]").classList.remove("hidden"),this.fetchFilterData(nextUrl).then(responseText=>{const resultData=new DOMParser().parseFromString(responseText,"text/html");resultData.querySelector("[data-scroll-event]")?document.querySelector("[data-scroll-event]").innerHTML=resultData.querySelector("[data-scroll-event]").innerHTML:resultData.querySelector("[data-load-more]")?document.querySelector("[data-load-more]").innerHTML=resultData.querySelector("[data-load-more]").innerHTML:scrollElement.remove();let html=resultData.querySelector("[main-collection-products]");html.querySelector("[data-applied-filters]")&&html.removeChild(html.querySelector("[data-applied-filters"));let elmnt=document.querySelector("[main-collection-products]");html&&(elmnt.innerHTML+=html.innerHTML,this.triggered=!1);var product_counts=product_count*(parseInt(page_count)+parseInt(1));let limitHtml=document.querySelector("[data-total-products-count]");product_counts>total_product_count?limitHtml.textContent=total_product_count+"/"+total_product_count:limitHtml.textContent=product_counts+"/"+total_product_count}))}}fetchFilterData(url){return fetch(url).then(response=>response.text())}}return OnScroll}(),document.addEventListener("keyup",function(event){event.code&&event.code.toUpperCase()==="ESCAPE"&&(document.querySelectorAll("[data-drawer-popup]").forEach(modal=>{modal.querySelector("video")&&modal.querySelector("video").pause(),modal.classList.remove("show"),modal.style.display=""}),document.body.classList.remove("overflow-hidden"))});class LoadMore extends HTMLElement{constructor(){super(),this.onScroll=new theme.OnScroll(this),this.addEventListener("click",e=>{e.preventDefault(),this.onScroll.scroll(this)})}}customElements.define("load-more",LoadMore);class DataScroll extends HTMLElement{constructor(){super(),window.addEventListener("load",()=>{window.addEventListener("scroll",()=>{const scrollElement=document.querySelector("[data-scroll-event]");scrollElement&&(this.onScroll=new theme.OnScroll(this),this.onScroll.scroll(scrollElement))})})}}customElements.define("data-scroll",DataScroll);class CloseDrawer extends HTMLElement{constructor(){super(),this.closebutton=this.querySelector("button");const closeDrawer=document.querySelectorAll("[data-close-drawer]");this.closebutton.addEventListener("click",this.onCloseButtonClick),closeDrawer.forEach(drawer=>drawer.addEventListener("click",this.onCloseButtonClick))}onCloseButtonClick(){if(this.drawer=this.closest("[shop-the-look-section]"),this.drawer&&(this.shopDrawer=this.drawer.querySelector("[data-shop-look-drawer]")),this.shopDrawer&&this.drawer){const blockId2=this.shopDrawer.dataset.hotspot,block=document.getElementById("hotspot-"+blockId2);block.classList.add("active-drawer"),block.querySelector("[data-shop-the-icon]").classList.remove("hidden"),block.querySelector(".media").classList.add("hidden"),setTimeout(()=>{block.classList.remove("active-drawer"),block.querySelector("[data-shop-the-icon]").classList.add("hidden"),block.querySelector(".media").classList.remove("hidden")},4e3);const element=document.querySelector('[data-drawer="shop-the-look-drawer-'+blockId2+'"]');element.querySelector("video")&&element.querySelector("video").pause()}this.closest("mobile-menu")&&this.closest("mobile-menu").querySelectorAll("[data-mobile-item]").forEach((item,index)=>{item.classList.remove("animate")}),this.conatctDrawer=this.closest("[data-contact-drawer]"),this.conatctDrawer&&(this.blockId=this.dataset.block,document.querySelector('[data-drawer="product-query--drawer-'+blockId+'"]').classList.remove("show","shadow"),document.querySelector('[data-drawer="product-query--drawer-'+blockId+'"]').style.display="none");const closestElement=this.closest("[data-drawer]");this.closest('[data-section-id="product-query--drawer"]')&&document.querySelectorAll('[data-section-id="product-query--drawer"]').forEach(drawer=>{drawer.classList.remove("show","shadow"),drawer.style.display="none"}),closestElement.classList.remove("show","shadow"),document.body.classList.remove("overflow-hidden"),setTimeout(()=>{if(document.querySelector("[data-header-wrapper]")&&(document.querySelector("[data-header-wrapper]").style.position="unset"),closestElement.style.display="none",closestElement.dataset.drawer=="cart-drawer"){const header=document.querySelector("[data-header-section");header&&header.dataset.headerView=="half-width-menu"&&header.dataset.headerStickyType=="sticky-none"&&header.classList.contains("sticky-always")&&header.classList.remove("sticky-always")}},400);const quickViewDrawer=this.closest("quick-view-drawer");quickViewDrawer&&(Array.from(quickViewDrawer.querySelectorAll("video")).forEach(function(video){video.pause()}),Array.from(quickViewDrawer.querySelectorAll(".youtube_video,.youtube-video")).forEach(function(video){video.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),Array.from(quickViewDrawer.querySelectorAll(".vimeo_video,.vimeo-video")).forEach(function(video){video.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}}customElements.define("close-drawer",CloseDrawer);class TabContent extends HTMLElement{constructor(){super(),this.tabs=this.querySelectorAll("[data-tab]"),this.tabs.forEach(item=>item.addEventListener("click",this.onTabClick.bind(this)))}onTabClick(event){event.preventDefault();let activeTab=event.currentTarget.dataset.tab;this.tabs.forEach(item=>{item.classList.remove("active");let tab_content=item.dataset.tab+"-tab-content";document.querySelector(`[${tab_content}]`).classList.remove("active"),document.querySelector(`[${tab_content}]`).classList.add("hidden")});let activeTabContent=`${activeTab}-tab-content`;document.querySelector(`[${activeTabContent}]`).classList.add("active"),document.querySelector(`[${activeTabContent}]`).classList.remove("hidden"),event.currentTarget.classList.add("active");let view_all_results_link=document.querySelector("[view-all-search-results]"),link_href=view_all_results_link.getAttribute("href"),link_url=new URL(link_href,window.location.origin);activeTab=="collection"&&(activeTab="product"),link_url.searchParams.set("type",activeTab),view_all_results_link.setAttribute("href",link_url.toString())}}customElements.define("tab-content",TabContent);function setCookieValue(cookieValue,expireTime){let date=new Date;date.setTime(date.getTime()+parseInt(expireTime)*24*60*60*1e3),Cookies.set(`is_${cookieValue}`,cookieValue,{expires:date,path:"/"})}class PasswordFacet extends HTMLElement{constructor(){if(super(),document.querySelector("[data-form-error]")){const popupModal2=document.querySelector("[data-password-form-popup]");setTimeout(()=>{popupModal2.classList.add("show"),document.body.classList.add("overflow-hidden")},400),popupModal2.style.display="flex"}this.querySelector("button").addEventListener("click",this.init.bind(this))}init(e){document.querySelector("popup-modal").modalPopupOpen("data-password-form-popup")}}customElements.define("password-facet",PasswordFacet);class SearchDrawer extends HTMLElement{constructor(){super(),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.onKeyDown()}}customElements.define("search-drawer",SearchDrawer);class AccountDrawer extends HTMLElement{constructor(){super(),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.onKeyDown()}}customElements.define("account-drawer",AccountDrawer);class popupModal extends HTMLElement{constructor(){super(),this.querySelector("[popup-content-body]"),this.querySelectorAll("[data-popup-close]").forEach(item=>{item.addEventListener("click",this.modalPopupClose.bind(this))}),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.onKeyDown()}modalPopupClose(e){if(!Shopify.designMode&&e!="newsletterPopup"){let target_popup=e.target.closest("[data-popup-modal]");if(target_popup&&target_popup.dataset.newsletterPopup!==void 0){let newsletterCookieTime=document.querySelector('input[name="newsletterCookieValue"]').value;setCookieValue("newsletter_popup_closed",newsletterCookieTime)}}document.querySelectorAll("[data-popup-modal]").forEach(modal=>{modal.querySelector("video")&&modal.querySelector("video").pause(),modal.classList.remove("show"),modal.style.display="none"}),document.body.classList.remove("overflow-hidden")}modalPopupOpen(popup){setTimeout(()=>{document.querySelector(`[${popup}]`).classList.add("show"),document.body.classList.add("overflow-hidden"),document.querySelector(`[${popup}]`).focus()},400),document.querySelector(`[${popup}]`).style.display="flex"}}customElements.define("popup-modal",popupModal);class ageVerifier extends HTMLElement{constructor(){super(),this.decline_btn=this.querySelector("[data-decline-age]"),this.submit_btn=this.querySelector("[data-submit-age]"),this.submit_incorrect=this.querySelector("[data-submit-incorrect]"),this.decline_btn.addEventListener("click",this.ageDeclined.bind(this)),this.submit_btn.addEventListener("click",this.ageSubmitted.bind(this)),this.submit_incorrect.addEventListener("click",this.ageSubmittedIncorrect.bind(this)),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.onKeyDown()}ageDeclined(){this.querySelector("[data-age-verifier]").classList.add("hidden"),this.querySelector("[data-age-declined]").classList.remove("hidden")}ageSubmittedIncorrect(){this.querySelector("[data-age-verifier]").classList.remove("hidden"),this.querySelector("[data-age-declined]").classList.add("hidden"),this.querySelector("[data-age-verifier] button").focus()}ageSubmitted(){this.style.display="none";var date=new Date;date.setTime(date.getTime()+parseInt("{{ section.settings.age_verify_popup_cookie }}")*24*60*60*1e3),Cookies.set("is_age_verified","age_verified",{expires:date,path:"/"})}}customElements.define("age-verifier",ageVerifier);class MagnetArea extends HTMLElement{constructor(){super(),this.productId=this.dataset.productid,this.productId&&this.addEventListener("click",this.changeMedia.bind(this))}changeMedia(){setTimeout(()=>{this.dataIndex=this.closest("swiper-content").querySelector(".swiper-slide-active").getAttribute("data-swiper-slide-index"),this.mainMedia=document.querySelector(`[data-product-slider=${this.productId}]`),this.mainMedia&&this.mainMedia?._selectSlide(parseInt(parseInt(this.dataIndex)))},400)}}customElements.define("swiper-nav",MagnetArea);class HoverLink extends HTMLAnchorElement{constructor(){super(),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.load()}}customElements.define("hover-link",HoverLink,{extends:"a"});class CustomListItem extends HTMLLIElement{constructor(){super(),this.magnetButton=new theme.MagnetButton(this),this.magnetButton.load()}}customElements.define("hover-li",CustomListItem,{extends:"li"});
//# sourceMappingURL=/cdn/shop/t/10/assets/magnet.js.map?v=123984434435794524671745312991
